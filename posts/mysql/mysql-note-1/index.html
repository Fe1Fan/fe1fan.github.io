<!doctype html><html><head><title>MySQL 笔记1：基础 // Fe1Fan</title><meta charset=utf-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="学习笔记"><meta property="og:title" content="MySQL 笔记1：基础"><meta property="og:description" content="学习笔记"><meta property="og:type" content="website"><meta property="og:locale" content="en"><meta property="og:url" content="https://fe1.fan/posts/mysql/mysql-note-1/"><link rel="shortcut icon" href=/favicon.ico><link href=https://fe1.fan/webfonts/ptserif/main.css rel=stylesheet type=text/css><link href=https://fe1.fan/webfonts/source-code-pro/main.css rel=stylesheet type=text/css><link rel=stylesheet href=https://fe1.fan/css/style.css><meta name=generator content="Hugo 0.75.1"></head><body><div id=container><header id=header><div id=header-outer class=outer><div id=header-inner class=inner><a id=main-nav-toggle class=nav-icon href=javascript:;></a><a id=logo class=logo-text href=https://fe1.fan/>Fe1Fan</a><nav id=main-nav><a class=main-nav-link href=/>主页</a>
<a class=main-nav-link href=/tags/>归档</a>
<a class=main-nav-link href=/about/>关于</a>
<a class=main-nav-link href=/index.xml>订阅</a></nav><nav id=sub-nav><div id=search-form-wrap></div></nav></div></div></header><section id=main class=outer><article class="article article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=article-title itemprop=name>MySQL 笔记1：基础</h1></header><div class=article-meta><a href=/posts/mysql/mysql-note-1/ class=article-date><time datetime=2020-10-07T14:23:52.000+08:00 itemprop=datePublished>2020-10-07</time></a></div><div class=article-entry itemprop=articleBody><h2 id=字段数据类型>字段数据类型</h2><ul><li>整数<ul><li>TINYINT (8)</li><li>SMALLINT (16)</li><li>MEDIUMINT (24)</li><li>INT (32)</li><li>BIGINT (64)</li></ul></li><li>实数<ul><li>FLOAT (4)</li><li>DOUBLE (8)</li><li>DECIMAL</li></ul></li><li>字符串<ul><li>CHAR</li><li>VARCHAR</li><li>BLOB</li><li>TEXT</li></ul></li><li>枚举<ul><li>ENUM</li></ul></li><li>日期和时间<ul><li>DATETIME</li><li>TIMESTAMP</li></ul></li><li>位数据<ul><li>BIT</li><li>SET</li></ul></li></ul><hr><h3 id=整数>整数</h3><p>$$ 2^(N-1) 到 2^(N-1) -1$$
如果使用UNSIGNED 大致可以使正数的上限提高一倍，例如TINYINT UNSIGNED 可以存储的范围是0～255，而TINYINT的存储范围是−128～127。</p><p>有符号和无符号类型使用相同的存储空间，并具有相同的性能。</p><p>整数型可指定宽度，但指定宽度不影响存储和计算，只用于交互工具的展示。</p><hr><h3 id=实数>实数</h3><p>DECIMAL 类型都可以指定精度，例如，DECIMAL（18,9） 小数点两边将各存储9个数字，一共使用9个字节：小数点前的数字用4个字节，小数点后的数字用4个字节，小数点本身占1个字节。</p><p>因为需要额外的空间和计算开销，所以应该尽量只在对小数进行精确计算时才使用DECIMAL ——例如存储财务数据，</p><p>在数据量比较大的时候，可以考虑使用BIGINT 代替DECIMAL ，将需要存储的货币单位根据小数的位数乘以相应的倍数即可。</p><hr><h3 id=字符串>字符串</h3><h4 id=char>CHAR</h4><blockquote><p>CHAR 类型是定长的</p></blockquote><p>当存储CHAR 值时，MySQL会删除所有的末尾空格</p><p>CHAR类型适合存储很短的字符串，或者所有值都接近同一个长度。例如MD5值，因为定长，不容易出现碎片化问题，所以在数据更变的时候会比VARCHAR更好。</p><p>假如字段 is_student 需要用 Y 或者 N 来表示，CHAR(1)使用一个字节来进行存储，而VARCHAR(1)会使用两个字节存储，多余的一个字节存储的是VARCHAR字节数。</p><h4 id=varchar>VARCHAR</h4><blockquote><p>用于存储可变长字符串</p></blockquote><p>VARCHAR 需要使用1或2个额外字节记录字符串的长度：
如果列的最大长度小于或等于255字节，则只使用1个字节表示，否则使用2个字节。</p><p>扩展：
如果一个行占用的空间增长，并且在页内没有更多的空间可以存储，在这种情况下，不同的存储引擎的处理方式是不一样的。</p><ul><li>MyISAM</li></ul><p>将行拆成不同的片段存储</p><ul><li>InnoDB</li></ul><p>需要分裂页来使行可以放进页内。</p><p>VARCHAR(5) 和 VARCHAR(200) 在储存的开销上是一样的，但是在加载入内存的时候，会分配固定大小的内存块，所以尽量分配真正使用的空间。</p><h4 id=blob>BLOB</h4><p>//TODO</p><h4 id=text>TEXT</h4><p>//TODO</p><hr><h3 id=枚举>枚举</h3><p>在如上所示的 is_student 字段中，可以用枚举进行代替字符串。 MySQL会在内部将每个值在列表中的位置保存为整数，并且在表的.frm文件中保存数字&ndash;字符串的映射关系，尽量不要使用 ENUM(&lsquo;1&rsquo;,&lsquo;2&rsquo;,&lsquo;3&rsquo;)
这种类型的枚举，因为会容易造成混乱。另外枚举字段是按照内部存储的整数而不是定义的字符串进行排序的。</p><h3 id=日期和时间>日期和时间</h3><p>//TODO</p><h3 id=位数据>位数据</h3><p>//TODO</p><h2 id=sql基础>SQL基础</h2><p>//TODO</p></div><div class=article-toc><h3>Contents</h3><nav id=TableOfContents><ul><li><a href=#字段数据类型>字段数据类型</a><ul><li><a href=#整数>整数</a></li><li><a href=#实数>实数</a></li><li><a href=#字符串>字符串</a></li><li><a href=#枚举>枚举</a></li><li><a href=#日期和时间>日期和时间</a></li><li><a href=#位数据>位数据</a></li></ul></li><li><a href=#sql基础>SQL基础</a></li></ul></nav></div><footer class=article-footer><ul class=article-tag-list><li class=article-tag-list-item><a class=article-tag-list-link href=https://fe1.fan/tags/mysql>mysql</a></li></ul></footer><script>MathJax={tex:{inlineMath:[["$","$"]],},displayMath:[["$$","$$"],["\[\[","\]\]"],],svg:{fontCache:"global",},};</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></div><nav id=article-nav><a href=/posts/jvm/jvm-note-3/ id=article-nav-newer class=article-nav-link-wrap><div class=article-nav-title><span>&lt;</span>&nbsp;
JVM 笔记3：Class文件结构</div></a></nav></article></section><footer id=footer><div class=outer><div id=footer-info class=inner>&copy; 2021 Fe1Fan<br>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> with theme <a href=https://github.com/carsonip/hugo-theme-minos target=_blank>Minos</a></div></div><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/tomorrow-night.min.css integrity="sha256-2wL88NKUqvJi/ExflDzkzUumjUM73mcK2gBvBBeLvTk=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin=anonymous></script><script>hljs.initHighlightingOnLoad();</script><script>document.getElementById('main-nav-toggle').addEventListener('click',function(){var header=document.getElementById('header');if(header.classList.contains('mobile-on')){header.classList.remove('mobile-on');}else{header.classList.add('mobile-on');}});</script></footer></div></body></html>